var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};(()=>{var t;if("string"==typeof import.meta.url&&(t=import.meta.url),!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();var t={};e.d(t,{QR:()=>n,bt:()=>p,B3:()=>m,yU:()=>u,As:()=>w});let r=null;const n=(e,t=0)=>{r||(()=>{const e=Int32Array,t=new e(256),n=new e(4096);let a,o,s;for(o=0;o<256;o++){a=o;for(let e=0;e<8;e++)a=1&a?-306674912^a>>>1:a>>>1;n[o]=t[o]=a}for(o=0;o<256;o++)for(s=t[o],a=256+o;a<4096;a+=256)s=n[a]=s>>>8^t[255&s];for(r=[t],o=1;o<16;o++)r[o]=n.subarray(256*o,256*(o+1))})();const[n,a,o,s,i,l,c,d,f,u,p,w,m,g,h,y]=r;let b=~t,U=0;const D=e.length-15;for(;U<D;)b=y[e[U++]^255&b]^h[e[U++]^b>>8&255]^g[e[U++]^b>>16&255]^m[e[U++]^b>>>24]^w[e[U++]]^p[e[U++]]^u[e[U++]]^f[e[U++]]^d[e[U++]]^c[e[U++]]^l[e[U++]]^i[e[U++]]^s[e[U++]]^o[e[U++]]^a[e[U++]]^n[e[U++]];for(;U<e.length;)b=b>>>8^n[255&(b^e[U++])];return~b>>>0},a=new TextEncoder,o=new TextDecoder("utf-8"),s="undefined"!=typeof CompressionStream,i="undefined"!=typeof DecompressionStream;async function l(e,t,r,o=new Date){const i=e,l=a.encode(t),c=i.length,d=n(i),{mtime:f,mdate:u}={mtime:((p=o).getSeconds()/2|0)+(p.getMinutes()<<5)+(p.getHours()<<11),mdate:p.getDate()+(p.getMonth()+1<<5)+(p.getFullYear()-1980<<9)};var p;let w=c,m=0,g=i;if(r&&s)try{const e=new CompressionStream("gzip"),t=e.writable.getWriter(),r=e.readable.getReader();t.write(i),t.close();const n=[];let a=0;for(;;){const{value:e,done:t}=await r.read();if(t)break;e&&(n.push(e),a+=e.length)}const o=new Uint8Array(a);let s=0;for(const e of n)o.set(e,s),s+=e.length;const l=o.subarray(10,a-8);l.length<c&&(w=l.length,g=l,m=8)}catch(e){}const h=30+l.length,y=new Uint8Array(h);let b=0;return y[b++]=80,y[b++]=75,y[b++]=3,y[b++]=4,y[b++]=20,y[b++]=0,y[b++]=0,y[b++]=0,y[b++]=m,y[b++]=0,y[b++]=255&f,y[b++]=f>>8,y[b++]=255&u,y[b++]=u>>8,y[b++]=255&d,y[b++]=d>>8&255,y[b++]=d>>16&255,y[b++]=d>>24,y[b++]=255&w,y[b++]=w>>8&255,y[b++]=w>>16&255,y[b++]=w>>24,y[b++]=255&c,y[b++]=c>>8&255,y[b++]=c>>16&255,y[b++]=c>>24,y[b++]=255&l.length,y[b++]=l.length>>8,y[b++]=0,y[b++]=0,y.set(l,30),{localHeader:y,compressedData:g,uncompressedSize:c,compressedSize:w,crc:d,method:m}}function c(e){const t=[],r=[];let n=0;for(let a=0;a<e.length;a++){const o=e[a];t[a]=n,r.push(o.localHeader),r.push(o.compressedData),n+=o.localHeader.length+o.compressedData.length}const a=n;for(let n=0;n<e.length;n++){const a=e[n],o=a.localHeader[26]+(a.localHeader[27]<<8),s=a.localHeader.subarray(30,30+o),i=new Uint8Array(46+s.length);let l=0;i[l++]=80,i[l++]=75,i[l++]=1,i[l++]=2,i[l++]=20,i[l++]=0,i[l++]=20,i[l++]=0,i.set(a.localHeader.subarray(6,26),l),l+=20,i[l++]=255&s.length,i[l++]=s.length>>8,i[l++]=0,i[l++]=0,i[l++]=0,i[l++]=0,i[l++]=0,i[l++]=0,i[l++]=0,i[l++]=0,i[l++]=0,i[l++]=0,i[l++]=0,i[l++]=0,i[l++]=255&t[n],i[l++]=t[n]>>8&255,i[l++]=t[n]>>16&255,i[l++]=t[n]>>24,i.set(s,l),r.push(i)}const o=r.slice(2*e.length).reduce(((e,t)=>e+t.length),0),s=new Uint8Array(22);let i=0;s[i++]=80,s[i++]=75,s[i++]=5,s[i++]=6,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=255&e.length,s[i++]=e.length>>8,s[i++]=255&e.length,s[i++]=e.length>>8,s[i++]=255&o,s[i++]=o>>8&255,s[i++]=o>>16&255,s[i++]=o>>24,s[i++]=255&a,s[i++]=a>>8&255,s[i++]=a>>16&255,s[i++]=a>>24,s[i++]=0,s[i++]=0,r.push(s);const l=r.reduce(((e,t)=>e+t.length),0),c=new Uint8Array(l);let d=0;for(const e of r)c.set(e,d),d+=e.length;return new File([c],"archive.zip",{type:"application/zip",lastModified:Date.now()})}function d(){return new Worker(e.p+"singleFileZip.worker.js")}function f(){return new Worker(e.p+"unzip.worker.js")}async function u(e,t=!0){const r=[];for(const n of e){const e=new Uint8Array(await n.arrayBuffer()),a=await l(e,n.name,t,new Date(n.lastModified));r.push(a)}return c(r)}async function p(e){const t=new Uint8Array(await e.arrayBuffer()),r=await async function(e){const t=new DataView(e.buffer),r=[];let a=0;for(;a<e.length&&67324752===t.getUint32(a,!0);){a+=4;const s=t.getUint16(a+4,!0),l=t.getUint16(a+6,!0),c=t.getUint16(a+8,!0),d=t.getUint32(a+10,!0),f=t.getUint32(a+14,!0),u=t.getUint32(a+18,!0),p=t.getUint16(a+22,!0),w=t.getUint16(a+24,!0);a+=26;const m=o.decode(e.subarray(a,a+p));a+=p+w;const g=new Date(1980+(c>>9&127),(c>>5&15)-1,31&c,l>>11&31,l>>5&63,2*(31&l));let h;if(0===s){if(h=e.subarray(a,a+f),n(h)!==d)throw new Error(`CRC32 mismatch for ${m}`)}else{if(8!==s||!i)throw new Error(`Unsupported compression method ${s}`);{const t=new Uint8Array(f+18);t.set([31,139,8,0,0,0,0,0,0,3]),t.set(e.subarray(a,a+f),10),new DataView(t.buffer).setUint32(f+10,d,!0),new DataView(t.buffer).setUint32(f+14,u,!0);const r=new DecompressionStream("gzip"),n=r.writable.getWriter(),o=r.readable.getReader();n.write(t),n.close(),h=new Uint8Array(u);let s=0;for(;;){const{value:e,done:t}=await o.read();if(t)break;h.set(e,s),s+=e.length}}}r.push({name:m,data:h.buffer,lastModified:g.getTime()}),a+=f}return r}(t);return r.map((e=>new File([e.data],e.name,{lastModified:e.lastModified})))}async function w(e,t=!0){const r=[],n=e.map((e=>new Promise(((n,a)=>{const o=new d;o.onmessage=e=>{if(e.data.error)a(new Error(e.data.error));else{const t=new Uint8Array(e.data.result);r.push({localHeader:t.subarray(0,30+t[26]+(t[27]<<8)),compressedData:t.subarray(30+t[26]+(t[27]<<8)),uncompressedSize:e.data.uncompressedSize,compressedSize:e.data.compressedSize,crc:e.data.crc,method:e.data.method}),n()}o.terminate()},o.onerror=e=>{a(e),o.terminate()},e.arrayBuffer().then((r=>{o.postMessage({fileData:r,fileName:e.name,compressWhenPossible:t},[r])}))}))));return await Promise.all(n),c(r)}async function m(e){return new Promise(((t,r)=>{const n=new f;n.onmessage=e=>{if(e.data.error)r(new Error(e.data.error));else{const r=e.data.result.map((e=>new File([e.data],e.name,{lastModified:e.lastModified})));t(r)}n.terminate()},n.onerror=e=>{r(e),n.terminate()},e.arrayBuffer().then((e=>n.postMessage({zipData:e},[e])))}))}var g=t.QR,h=t.bt,y=t.B3,b=t.yU,U=t.As;export{g as crc32,h as unZip,y as unZipWithWorker,b as zip,U as zipWithWorker};