!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).YourLibraryName={})}(this,(function(e){"use strict";var t=null,r=function(e,r){void 0===r&&(r=0),t||function(){var e,r,n,a=Int32Array,i=new a(256),o=new a(4096);for(r=0;r<256;r++){e=r;for(var u=0;u<8;u++)e=1&e?-306674912^e>>>1:e>>>1;o[r]=i[r]=e}for(r=0;r<256;r++)for(n=i[r],e=256+r;e<4096;e+=256)n=o[e]=n>>>8^i[255&n];for(t=[i],r=1;r<16;r++)t[r]=o.subarray(256*r,256*(r+1))}();for(var n=t,a=n[0],i=n[1],o=n[2],u=n[3],c=n[4],s=n[5],l=n[6],f=n[7],d=n[8],p=n[9],b=n[10],h=n[11],g=n[12],w=n[13],y=n[14],v=n[15],m=~r,U=0,S=e.length-15;U<S;)m=v[e[U++]^255&m]^y[e[U++]^m>>8&255]^w[e[U++]^m>>16&255]^g[e[U++]^m>>>24]^h[e[U++]]^b[e[U++]]^p[e[U++]]^d[e[U++]]^f[e[U++]]^l[e[U++]]^s[e[U++]]^c[e[U++]]^u[e[U++]]^o[e[U++]]^i[e[U++]]^a[e[U++]];for(;U<e.length;)m=m>>>8^a[255&(m^e[U++])];return~m>>>0};function n(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function u(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,u)}c((n=n.apply(e,t||[])).next())}))}function a(e,t){var r,n,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(c){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&u[0]?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){i.label=u[1];break}if(6===u[0]&&i.label<a[1]){i.label=a[1],a=u;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(u);break}a[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}"function"==typeof SuppressedError&&SuppressedError;var i=new TextDecoder("utf-8"),o="undefined"!=typeof DecompressionStream;var u="undefined"!=typeof CompressionStream,c=new TextEncoder,s=function(e){return e.reduce((function(e,t){return e+t.length}),0)},l=function(e){var t=new CompressionStream("gzip"),r=t.writable.getWriter(),i=t.readable.getReader();return r.write(e),r.close(),function(){return n(void 0,void 0,void 0,(function(){var e,t,r;return a(this,(function(n){switch(n.label){case 0:return[4,i.read()];case 1:return e=n.sent(),t=e.value,r=e.done,[2,{value:t||new Uint8Array,done:r}]}}))}))}};e.crc32=r,e.unZip=function(e){return n(this,void 0,void 0,(function(){var t,n,u,c,s,l,f,d,p,b,h,g,w,y,v,m,U,S,x,D,A,E,T,z,M,k;return a(this,(function(a){switch(a.label){case 0:return[4,e.arrayBuffer()];case 1:t=a.sent(),n=new Uint8Array(t),u=new DataView(n.buffer,n.byteOffset,n.byteLength),c=[],s=0,a.label=2;case 2:if(!(s<n.length))return[3,9];if(67324752!==u.getUint32(s,!0))return[3,9];if(s+=4,u.getUint16(s,!0),u.getUint16(s+2,!0),l=u.getUint16(s+4,!0),f=u.getUint16(s+6,!0),d=u.getUint16(s+8,!0),p=u.getUint32(s+10,!0),b=u.getUint32(s+14,!0),h=u.getUint32(s+18,!0),g=u.getUint16(s+22,!0),w=u.getUint16(s+24,!0),s+=26,y=n.subarray(s,s+g),v=i.decode(y),s+=g+w,m=new Date(1980+(d>>9&127),(d>>5&15)-1,31&d,f>>11&31,f>>5&63,2*(31&f)),U=void 0,0!==l)return[3,3];if(U=n.subarray(s,s+b),(S=r(U))!==p)throw new Error("CRC32 mismatch for file ".concat(v,": calculated=").concat(S.toString(16),", stored=").concat(p.toString(16)));return[3,8];case 3:if(8!==l||!o)return[3,7];(x=new Uint8Array(b+18)).set([31,139,8,0,0,0,0,0,0,3]),x.set(n.subarray(s,s+b),10),new DataView(x.buffer).setUint32(b+10,p,!0),new DataView(x.buffer).setUint32(b+14,h,!0),D=new DecompressionStream("gzip"),A=D.writable.getWriter(),E=D.readable.getReader(),A.write(x),A.close(),U=new Uint8Array(h),T=0,a.label=4;case 4:return[4,E.read()];case 5:return z=a.sent(),M=z.value,z.done?[3,6]:(U.set(M,T),T+=M.length,[3,4]);case 6:return[3,8];case 7:throw new Error("Unsupported compression method ".concat(l," for file ").concat(v));case 8:return k=new File([U],v,{lastModified:m.getTime()}),c.push(k),s+=b,[3,2];case 9:return[2,c]}}))}))},e.zip=function(e){return n(this,arguments,void 0,(function(e,t,n){var i,o,f,d,p,b,h,g,w,y,v,m,U,S,x,D,A,E,T,z,M,k,C,j,B,F,I,O,R,V,L,P,W,Y,G,H,N,Z,q,J;return void 0===t&&(t=!0),void 0===n&&(n=l),a(this,(function(a){switch(a.label){case 0:return i=[],o=u&&t,f=e.length,d=e.map((function(e){return c.encode(e.name)})),[4,Promise.all(e.map((function(e){return e.arrayBuffer().then((function(e){return new Uint8Array(e)}))})))];case 1:p=a.sent(),b=s(p),h=s(d),g=b+30*f+h+(46*f+h)+22,w=new Date,y=new Uint8Array(g),v=0,G=0,a.label=2;case 2:if(!(G<f))return[3,16];if(i[G]=v,m=d[G],U=m.length,S=p[G],x=S.length,D=new Date(null!==(J=e[G].lastModified)&&void 0!==J?J:w),A=(D.getSeconds()/2|0)+(D.getMinutes()<<5)+(D.getHours()<<11),E=D.getDate()+(D.getMonth()+1<<5)+(D.getFullYear()-1980<<9),T=0,z=!1,y[v++]=80,y[v++]=75,y[v++]=3,y[v++]=4,y[v++]=20,y[v++]=0,y[v++]=0,y[v++]=8,M=v,y[v++]=y[v++]=0,y[v++]=255&A,y[v++]=A>>8,y[v++]=255&E,y[v++]=E>>8,k=v,v+=8,y[v++]=255&x,y[v++]=x>>8&255,y[v++]=x>>16&255,y[v++]=x>>24,y[v++]=255&U,y[v++]=U>>8,y[v++]=y[v++]=0,y.set(m,v),v+=U,!o)return[3,14];C=v,j=n(S),B=void 0,F=0,I=0,a.label=3;case 3:return[4,j()];case 4:if((P=a.sent()).done)throw new Error("Bad gzip data");if(B=P.value,I=(F=I)+B.length,F<=3&&I>3&&30&B[3-F])return z=!0,[3,6];if(I>=10)return B=B.subarray(10-F),[3,6];a.label=5;case 5:return[3,3];case 6:return v-C+B.length>=x+8?(z=!0,[3,9]):(y.set(B,v),v+=B.length,[4,j()]);case 7:if((P=a.sent()).done)return[3,9];B=P.value,a.label=8;case 8:return[3,6];case 9:if(!z)return[3,13];a.label=10;case 10:for(O=B.length,R=8-O,V=v,v=C,L=0;L<8;L++)y[v++]=L<R?y[V-R+L]:B[O-8+L];return[4,j()];case 11:if((P=a.sent()).done)return[3,13];B=P.value,a.label=12;case 12:return[3,10];case 13:v-=8,y[k++]=y[v++],y[k++]=y[v++],y[k++]=y[v++],y[k++]=y[v++],v-=4,z||(y[M]=8,T=v-C),a.label=14;case 14:o&&!z||(y.set(S,v),v+=x,T=x,W=r(S),y[k++]=255&W,y[k++]=W>>8&255,y[k++]=W>>16&255,y[k++]=W>>24),y[k++]=255&T,y[k++]=T>>8&255,y[k++]=T>>16&255,y[k++]=T>>24,a.label=15;case 15:return G++,[3,2];case 16:for(Y=v,G=0;G<f;G++)H=i[G],N=d[G],Z=N.length,y[v++]=80,y[v++]=75,y[v++]=1,y[v++]=2,y[v++]=20,y[v++]=0,y[v++]=20,y[v++]=0,y.set(y.subarray(H+6,H+30),v),v+=24,y[v++]=y[v++]=y[v++]=y[v++]=y[v++]=y[v++]=y[v++]=y[v++]=y[v++]=y[v++]=0,y[v++]=255&H,y[v++]=H>>8&255,y[v++]=H>>16&255,y[v++]=H>>24,y.set(N,v),v+=Z;return y[v++]=80,y[v++]=75,y[v++]=5,y[v++]=6,y[v++]=y[v++]=y[v++]=y[v++]=0,y[v++]=255&f,y[v++]=f>>8,y[v++]=255&f,y[v++]=f>>8,q=v-Y,y[v++]=255&q,y[v++]=q>>8&255,y[v++]=q>>16&255,y[v++]=q>>24,y[v++]=255&Y,y[v++]=Y>>8&255,y[v++]=Y>>16&255,y[v++]=Y>>24,y[v++]=y[v++]=0,[2,new File([y.subarray(0,v)],"archive.zip",{type:"application/zip",lastModified:w.getTime()})]}}))}))}}));
